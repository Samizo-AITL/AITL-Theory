
# 状態空間制御（State-Space Control）

## 概要

状態空間制御は、システムの内部状態をベクトルで表現し、  
その変化を**行列による動的モデル**として扱う制御理論です。  
AITLにおいては、推論層で扱う論理的状態と、物理層で観測される物理的状態を接続する**中間的な記述枠組み**として重要です。

---

## 基本構造

離散時間システムの状態空間モデルは次のように定式化されます：

\[
x_{k+1} = A x_k + B u_k
\]
\[
y_k = C x_k + D u_k
\]

ここで：

- \( x_k \)：状態ベクトル  
- \( u_k \)：制御入力  
- \( y_k \)：出力  
- \( A, B, C, D \)：システム行列

---

## 構成要素と概念

### 1. 可制御性（Controllability）

ある初期状態から任意の最終状態に、**有限時間内で制御入力により到達できる性質**

判定方法（可制御行列）：

\[
\mathcal{C} = [B, AB, A^2B, ..., A^{n-1}B]
\]
\[
\text{rank}(\mathcal{C}) = n \Rightarrow \text{可制御}
\]

### 2. 可観測性（Observability）

内部状態を出力から**推定可能**である性質

判定方法（可観測行列）：

\[
\mathcal{O} = \begin{bmatrix} C \\ CA \\ CA^2 \\ \vdots \\ CA^{n-1} \end{bmatrix}
\]
\[
\text{rank}(\mathcal{O}) = n \Rightarrow \text{可観測}
\]

---

## 最適制御：LQR（Linear Quadratic Regulator）

コスト関数：

\[
J = \sum_{k=0}^{\infty} \left( x_k^T Q x_k + u_k^T R u_k \right)
\]

目的：  
システムの安定性と制御労力のバランスを取る最適な制御入力 \( u_k = -Kx_k \) を設計

特徴：

- 行列 \( Q \)：状態の重み  
- 行列 \( R \)：入力の重み  
- \( K \)：フィードバックゲイン（解はリカッチ方程式による）

---

## AITLでの役割

- **論理的状態（reasoning）と物理状態（physics）を接続**する中間的役割  
- 推論から導かれた目標状態に対して、物理層が到達するまでの制御則設計  
- AITL-Rにおける**多自由度のロボット制御**に特に有効  

---

## 応用例

| 応用対象 | 状態空間制御の使い方 |
|----------|------------------------|
| 多軸モータ制御 | 各軸の状態変数を統合管理し、協調動作を設計 |
| 姿勢制御 | 姿勢角・角速度・加速度を統合状態とする |
| 複合系連成制御 | 制御対象が複雑なときに有効な構造表現 |

---

## 参考文献

- [1] K.J. Åström, *Feedback Systems*, 2008  
- [2] R. Kalman, “Contributions to the Theory of Optimal Control”, 1960  
- [3] 三溝 真一, 『AITL制御論概論』, 2025  

---
